{
  "swagger": "2.0",
  "info": {
    "title": "proto/reservation.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "ReservationService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1/activity/join": {
      "post": {
        "summary": "参加活动生成订单",
        "operationId": "ReservationService_JoinActivity",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationJoinActivityResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/reservationJoinActivityReq"
            }
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/get_system_info": {
      "get": {
        "summary": "获取预约系统状态信息.",
        "operationId": "ReservationService_GetSystemInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationGetSystemInfoResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/query/activity/{id}": {
      "get": {
        "summary": "查询活动信息",
        "operationId": "ReservationService_QueryActivityInfo",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationQueryActivityInfoResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "id",
            "description": "活动id",
            "in": "path",
            "required": true,
            "type": "integer",
            "format": "int32"
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/query/activity_list": {
      "post": {
        "summary": "获取全部可参加的活动列表",
        "operationId": "ReservationService_QueryActivityList",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationQueryActivityListResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/reservationQueryActivityListReq"
            }
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/query/activity_list_by_day": {
      "post": {
        "summary": "获取某一天的可参加的活动列表",
        "operationId": "ReservationService_QueryActivityListByDay",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationQueryActivityListByDayResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/reservationQueryActivityListByDayReq"
            }
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/query/order_list": {
      "post": {
        "summary": "查询订单接口",
        "operationId": "ReservationService_QueryOrderList",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationQueryOrderListResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/reservationQueryOrderListReq"
            }
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/user/generate_mbti": {
      "post": {
        "summary": "生成MBTI",
        "operationId": "ReservationService_GenerateMBTI",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationGenerateMBTIResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/reservationGenerateMBTIReq"
            }
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/user/register": {
      "post": {
        "summary": "用户注册",
        "operationId": "ReservationService_Register",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationRegisterResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/reservationRegisterReq"
            }
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    },
    "/v1/user/wx_login": {
      "post": {
        "summary": "微信登录",
        "operationId": "ReservationService_WXLogin",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/reservationWXLoginResp"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/reservationWXLoginReq"
            }
          }
        ],
        "tags": [
          "ReservationService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "reservationActivity": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64",
          "title": "活动ID"
        },
        "name": {
          "type": "string",
          "title": "名称"
        },
        "label": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "title": "标签"
        },
        "price": {
          "type": "number",
          "format": "float",
          "title": "价格"
        },
        "time": {
          "type": "string",
          "title": "时间戳"
        },
        "location": {
          "type": "string"
        },
        "small_img": {
          "type": "string",
          "title": "小图"
        },
        "big_img": {
          "type": "string",
          "title": "大图"
        },
        "description": {
          "type": "string",
          "title": "描述"
        },
        "activitySerial": {
          "type": "string",
          "title": "活动序列号"
        },
        "createdAt": {
          "type": "string",
          "format": "int64",
          "title": "创建时间"
        },
        "updatedAt": {
          "type": "string",
          "format": "int64",
          "title": "更新时间"
        }
      },
      "title": "活动详情"
    },
    "reservationGenerateMBTIReq": {
      "type": "object"
    },
    "reservationGenerateMBTIResp": {
      "type": "object"
    },
    "reservationGetSystemInfoResp": {
      "type": "object",
      "properties": {
        "totalUsedMb": {
          "type": "string",
          "format": "int64",
          "description": "已使用磁盘空间总数, 单位兆字节."
        },
        "totalMb": {
          "type": "string",
          "format": "int64",
          "description": "磁盘空间容量总数, 单位兆字节."
        },
        "availableMb": {
          "type": "string",
          "format": "int64",
          "description": "可用磁盘容量, 单位兆字节."
        },
        "success": {
          "type": "boolean",
          "title": "是否成功访问"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      },
      "description": "GetSystemInfoResp 表示获取系统信息响应."
    },
    "reservationJoinActivityReq": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "format": "int64",
          "title": "活动id"
        }
      },
      "title": "参加活动请求"
    },
    "reservationJoinActivityResp": {
      "type": "object",
      "properties": {
        "price": {
          "type": "number",
          "format": "float",
          "title": "活动价格"
        },
        "success": {
          "type": "boolean",
          "title": "是否成功访问"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      },
      "title": "参加活动请求"
    },
    "reservationMBTIResult": {
      "type": "object",
      "properties": {
        "extraversion": {
          "type": "number",
          "format": "float",
          "title": "注意力方向（精力来源），外倾"
        },
        "sensing": {
          "type": "number",
          "format": "float",
          "title": "认知方式（如何搜集信息），实感"
        },
        "thinking": {
          "type": "number",
          "format": "float",
          "title": "判断方式（如何做决定），理智"
        },
        "judging": {
          "type": "number",
          "format": "float",
          "title": "生活方式（如何应对外部世界），判断"
        }
      }
    },
    "reservationOrder": {
      "type": "object",
      "properties": {
        "orderSerial": {
          "type": "string",
          "title": "序列号"
        },
        "activitySerial": {
          "type": "string",
          "title": "关联的活动序列号"
        },
        "timestamp": {
          "type": "string",
          "format": "int64",
          "title": "时间戳"
        },
        "status": {
          "type": "string",
          "title": "状态。分为待付款，已付款，已退款"
        }
      },
      "title": "订单"
    },
    "reservationQueryActivityInfoResp": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/reservationActivity"
        },
        "success": {
          "type": "boolean",
          "title": "是否成功访问"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      }
    },
    "reservationQueryActivityListByDayReq": {
      "type": "object",
      "properties": {
        "day": {
          "type": "string",
          "title": "日期，格式为 \"20221226\""
        },
        "pageNum": {
          "type": "integer",
          "format": "int32",
          "title": "本次请求结果实际页码, 一般与请求参数一致"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "分页大小"
        }
      },
      "title": "获取某一天的可参加的活动列表请求"
    },
    "reservationQueryActivityListByDayResp": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/reservationQueryActivityListByDayRespData",
          "title": "活动列表数据"
        },
        "success": {
          "type": "boolean",
          "title": "是否成功访问"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      },
      "title": "获取某一天的可参加的活动列表返回"
    },
    "reservationQueryActivityListByDayRespData": {
      "type": "object",
      "properties": {
        "size": {
          "type": "integer",
          "format": "int32",
          "title": "当前页记录数"
        },
        "pages": {
          "type": "integer",
          "format": "int32",
          "title": "总页数"
        },
        "pageNum": {
          "type": "integer",
          "format": "int32",
          "title": "本次请求结果实际页码, 一般与请求参数一致"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "分页大小"
        },
        "activityList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/reservationActivity"
          },
          "title": "活动列表"
        },
        "total": {
          "type": "integer",
          "format": "int32",
          "title": "查询命中的对象总数, 请求参数trackTotalHits为真时生效, 否则返回-1"
        }
      },
      "title": "活动列表数据"
    },
    "reservationQueryActivityListReq": {
      "type": "object",
      "title": "获取全部可参加的活动列表请求"
    },
    "reservationQueryActivityListResp": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/reservationQueryActivityListRespData",
          "title": "活动列表数据"
        },
        "success": {
          "type": "boolean",
          "title": "是否成功访问"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      },
      "title": "获取全部可参加的活动列表返回"
    },
    "reservationQueryActivityListRespData": {
      "type": "object",
      "properties": {
        "size": {
          "type": "integer",
          "format": "int32",
          "title": "当前页记录数"
        },
        "pages": {
          "type": "integer",
          "format": "int32",
          "title": "总页数"
        },
        "pageNum": {
          "type": "integer",
          "format": "int32",
          "title": "本次请求结果实际页码, 一般与请求参数一致"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "分页大小"
        },
        "activityList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/reservationActivity"
          },
          "title": "活动列表"
        },
        "total": {
          "type": "integer",
          "format": "int32",
          "title": "查询命中的对象总数, 请求参数trackTotalHits为真时生效, 否则返回-1"
        }
      },
      "title": "活动列表数据"
    },
    "reservationQueryMBTIResp": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/reservationMBTIResult",
          "title": "MBTI数据"
        },
        "success": {
          "type": "boolean",
          "title": "是否成功注册"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      },
      "title": "查询MBTI返回"
    },
    "reservationQueryOrderListReq": {
      "type": "object",
      "properties": {
        "uuid": {
          "type": "string",
          "title": "用户的uuid"
        }
      }
    },
    "reservationQueryOrderListResp": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/reservationQueryOrderListRespData",
          "title": "活动列表数据"
        },
        "success": {
          "type": "boolean",
          "title": "是否成功访问"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      }
    },
    "reservationQueryOrderListRespData": {
      "type": "object",
      "properties": {
        "size": {
          "type": "integer",
          "format": "int32",
          "title": "当前页记录数"
        },
        "pages": {
          "type": "integer",
          "format": "int32",
          "title": "总页数"
        },
        "pageNum": {
          "type": "integer",
          "format": "int32",
          "title": "本次请求结果实际页码, 一般与请求参数一致"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "分页大小"
        },
        "orderList": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/reservationOrder"
          }
        },
        "total": {
          "type": "integer",
          "format": "int32",
          "title": "查询命中的对象总数, 请求参数trackTotalHits为真时生效, 否则返回-1"
        }
      },
      "title": "活动列表数据"
    },
    "reservationRegisterReq": {
      "type": "object"
    },
    "reservationRegisterResp": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "title": "是否成功注册"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      }
    },
    "reservationWXLoginReq": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "title": "登录时获取的 code，可通过wx.login获取"
        },
        "encryptedData": {
          "type": "string",
          "title": "云开发环境id"
        },
        "iv": {
          "type": "string",
          "title": "加密算法的初始向量"
        }
      },
      "title": "微信登录请求"
    },
    "reservationWXLoginResp": {
      "type": "object",
      "properties": {
        "data": {
          "$ref": "#/definitions/reservationWXLoginRespData"
        },
        "success": {
          "type": "boolean",
          "title": "是否成功访问"
        },
        "errorCode": {
          "type": "string",
          "title": "错误码"
        },
        "errorMsg": {
          "type": "string",
          "title": "错误详情"
        }
      },
      "title": "微信登录返回"
    },
    "reservationWXLoginRespData": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string",
          "title": "//用户唯一标识\n  string openId  = 1;\n  //会话密钥\n  string sessionKey = 2;\n  //用户在开放平台的唯一标识符，若当前小程序已绑定到微信开放平台帐号下会返回，详见 UnionID 机制说明。\n  string unionId = 3;\nTOKEN"
        }
      }
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    }
  }
}
